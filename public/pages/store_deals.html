<div class="" style="margin-top:10px;"   ng-cloak>
  <style>

    /*table#myClickable {
    border-collapse: collapse;
  }
  #myClickable tr {
  background-color: #eee;
  border-top: 1px solid #fff;
}

#myClickable th {
background-color: #fff;
}
#myClickable th, #myClickable td {
padding: 3px 5px;
}*/
.myClickable tr:hover {
  background-color: grey;
}
.myClickable td:hover {
  cursor: pointer;
}
</style>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalLabel">Update Deal</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="form-row">
          <div class="col-sm">
            <div class="form-group">
              <input  class="form-control" id="deal_name" placeholder="Name Of Deal" >
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm">

            <div class="form-group">
              <textarea class="form-control" id="deal_description" rows="3" placeholder="Deal Description" ></textarea>
            </div>
          </div>

        </div>
        <div class="form-row">
          <div class="col-sm">
            <div class="dropdown">
              <button class="btn btn-outline-secondary dropdown-toggle dealType" type="button"  data-toggle="dropdown"  id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Type
              </button>
              <div class="dropdown-menu dealTypeDropDown" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="javascript:void(0);">Leaf</a>
                <a class="dropdown-item" href="javascript:void(0);">Vape</a>
                <a class="dropdown-item" href="javascript:void(0);">Oil</a>
                <a class="dropdown-item" href="javascript:void(0);">Edibles</a>
                <a class="dropdown-item" href="javascript:void(0);">Concentrates</a>
                <a class="dropdown-item" href="javascript:void(0);">Wax</a>
                <a class="dropdown-item" href="javascript:void(0);">Tincture</a>
                <a class="dropdown-item" href="javascript:void(0);">Topical</a>
                <a class="dropdown-item" href="javascript:void(0);">Accessories</a>
                <a class="dropdown-item" href="javascript:void(0);">Apparal</a>
                <a class="dropdown-item" href="javascript:void(0);">CBD</a>
                <a class="dropdown-item" href="javascript:void(0);">Kratom</a>
                <a class="dropdown-item" href="javascript:void(0);">Other</a>

              </div>
            </div>
          </div>
          <!--<div class="col-sm">
          <input  class="form-control" id="previous_price" placeholder="Previous Price if any" >
        </div>-->

        <div class="col-sm">
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
            </div>
            <input type="number" class="form-control" id="previous_price" placeholder="Previous Price if any">
          </div>
        </div>

        <div class="col-sm">
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
            </div>
            <input type="number" class="form-control" id="new_price" placeholder="New Price if any">
          </div>
        </div>


      </div>
      <div class="form-row" style="margin-top:10px;">
        <div class="col-sm">
          <div class="form-group">
            <div class="dropdown">
              <button class="btn btn-outline-secondary dropdown-toggle whichStore" type="button"  data-toggle="dropdown" data-id="" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Which Store
              </button>
              <div class="dropdown-menu whichStoreDropDown" aria-labelledby="dropdownMenuButton">
                <span  ng-repeat="aStore in stores"  ng-click="clickedOnStoreInUpdateDeal(aStore)">
                  <a class="dropdown-item" data-id="1" href="javascript:void(0);">{{aStore.store_name}}</a>
                </span>
              </div>
              <!--
              <div class="dropdown-menu whichStoreDropDown" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" data-id="1" href="javascript:void(0);">Store 1</a>
                <a class="dropdown-item" data-id="2" href="javascript:void(0);">Store 2</a>
                <a class="dropdown-item" data-id="3" href="javascript:void(0);">Store 3</a>
              </div>-->
            </div>
          </div>
        </div>

        <div class="col-sm">
          <div class="form-group">
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="is_active"  checked="checked" />
              <label class="form-check-label" for="is_active">Active?</label>
            </div>
          </div>
        </div>

      </div>

      <div class="form-row" style="margin-top:10px;">
        <div style="position:relative;">
          <a class='btn btn-outline-secondary chooseDealButton' href='javascript:;'>
            <span style="">Choose Deal Image</span>
            <input id ="imgInp" type="file" style='position:absolute;z-index:2;top:0;left:0;filter: alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent;' name="file_source" size="40"  onchange='readImage(this);'/>
          </a>
          &nbsp;
          <span class='label label-info' id="upload-file-info"></span>
          <br>
          <div style="text-align:center">
            <img id="dealImage" src="#" alt=""   class="img-fluid" style="display:none;width:200px;margin:5px;" />
          </div>
        </div>
      </div>
      <p style="font-size:80%;">If you do not upload an image, we will use a generic image.</p>
      <!--<button type="button" class="btn btn-outline-success" id="addStoreDeal">Add Deal</button>-->
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
    <button type="button" class="btn btn-outline-danger deleteDealButton" data-dismiss="modal">Delete</button>
    <button type="button" class="btn btn-outline-success updateStoreDeal">Save changes</button>
  </div>
</div>
</div>
</div>


<div class="table-responsive">

  <table id ="dealsTable" class="display table table-bordered rounded compact" style="width:100%">
    <thead style="border: 0!important;">
      <tr style="border: 0!important;">
        <th scope="col"  style="border: 0!important;font-size:100">Preview</th>
        <th scope="col"  style="border: 0!important;font-size:100">Date</th>
        <th scope="col" style="border: 0!important;font-size:100">Name</th>
        <th scope="col" style="border: 0!important;font-size:100">Details</th>
        <!--<th scope="col" style="border: 0!important;font-size:100">Previous Price</th>
        <th scope="col" style="border: 0!important;font-size:100">New Price</th>-->
        <th scope="col"  style="border: 0!important;font-size:100">Store</th>
        <th scope="col"  style="border: 0!important;font-size:100">Image</th>
        <th scope="col"  style="border: 0!important;font-size:100">Type</th>

        <th scope="col"  style="border: 0!important;font-size:100">Views</th>
        <th scope="col"  style="border: 0!important;font-size:100">Likes</th>
        <th scope="col"  style="border: 0!important;font-size:100">Active</th>
      </tr>
    </thead>
    <tbody style="" class="myClickable">
      <!--
      <tr style="">
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="border-left:0;border-right:0;!important">dddd</td>
      <td style="">
      <div class="form-check">
      <input type="checkbox" class="form-check-input" id="exampleCheck1">
    </div>
  </td>
  <td style="border-left:0;border-right:0;!important">
  <i class="far fa-edit"></i>
</td>
<td style="">
<a href=""><i class="fas fa-minus-circle" style="color:red;"></i></a>
</td>
</tr>


<tr style="">
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>
<td style="border-left:0;border-right:0;!important">aa</td>

<td style="">
<div class="form-check">
<input type="checkbox" class="form-check-input" id="exampleCheck1">
</div>
</td>
<td style="border-left:0;border-right:0;!important">
<i class="far fa-edit"></i>
</td>
<td style="">
<a href=""><i class="fas fa-minus-circle" style="color:red;"></i></a>
</td>
</tr>
-->

<tr ng-repeat="aDeal in store_deals" ng-click="clickedOnDealRow(aDeal)">

  <td style="border-left:0;border-right:0;!important">
    <a href="" target="_blank" ng-click="clickedPreviewStoreDeals(aDeal, $event)"><i class="fas fa-link"></i></a>
  </td>
  <td style="border-left:0;border-right:0;!important">{{convertToPrettyTime(aDeal.utc_time)}}</td>
  <td style="border-left:0;border-right:0;!important">{{convertToShortStringIfLong(aDeal.deal_name)}}</td>
  <td style="border-left:0;border-right:0;!important">{{convertToShortStringIfLong(aDeal.deal_description)}}</td>
  <!--<td style="border-left:0;border-right:0;!important">{{aDeal.previous_price}}</td>
  <td style="border-left:0;border-right:0;!important">{{aDeal.new_price}}</td>-->
  <td style="border-left:0;border-right:0;!important">{{convertToShortStringIfLong(aDeal.which_store)}}</td>
  <td style="border-left:0;border-right:0;!important"><img style="height:30px;" src={{aDeal.image_name}}></td>
  <td style="border-left:0;border-right:0;!important">{{aDeal.type}}</td>
  <td style="border-left:0;border-right:0;!important">{{handleNull(aDeal.views)}}</td>
  <td style="border-left:0;border-right:0;!important">{{handleNull(aDeal.likes)}}</td>
  <td style="border-left:0;border-right:0;!important"> <span ng-bind-html=handleActive(aDeal.is_active)></span>
  </td>

</tr>

</tbody>
</table>
<div>
  <td style="border: 0!important;">
    <a href="" class="addDealRow" style="margin-left:10px;margin-top:5px;">
      <i class="fas fa-plus-circle" style="font-size:150%"></i>
    </a>
  </td>
</div>
